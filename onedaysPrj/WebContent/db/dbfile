DROP TABLE MEMBERS
    CASCADE CONSTRAINTS;
  

DROP TABLE BOARDCATE
    CASCADE CONSTRAINTS;


DROP TABLE PICTURE
    CASCADE CONSTRAINTS;

DROP TABLE MYWORK
    CASCADE CONSTRAINTS;


CREATE TABLE MEMBERS (
    ID VARCHAR2(20) NOT NULL, -- 아이디 
    PWD VARCHAR2(30) NOT NULL, -- 비밀번호 
    NAME VARCHAR2(30) NOT NULL, -- 이름 
    BIRTH_DATE VARCHAR2(30) NOT NULL, --생년월일 
    JOIN_DATE VARCHAR2(30) DEFAULT SYSDATE, -- 가입날짜 
    NICKNAME VARCHAR2(20) UNIQUE, -- 닉네임   
    EMAIL VARCHAR2(50) NOT NULL, -- 이메일 
    PHONE VARCHAR2(30) NOT NULL, -- 핸드폰번호 
    GENDER NUMBER(1) DEFAULT 1, -- 성별 
    AUTH NUMBER(1) DEFAULT 1 -- 1: 유저 2: 관리자
    
);


CREATE TABLE BOARDCATE(
    BCA_NO INT NOT NULL, -- 카테고리 PK
    BCA_CATEGORY VARCHAR2(20) -- 카테고리 명(공지사항, 이벤트, 질문&답변, 사진, 할일)
    
);

ALTER TABLE BOARDCATE
    ADD CONSTRAINT PK_BCA_NO
        PRIMARY KEY(
            BCA_NO
        ); 

CREATE SEQUENCE PIC_SQC;


CREATE TABLE PICTURE (
    PIC_NO NUMBER NOT NULL , -- 글번호 
    BCA_NO INT NOT NULL, -- 게시판 카테고리 - 4. 사진
    ID VARCHAR2(20) NOT NULL, -- 아이디 
    PIC_TITLE VARCHAR2(100) , -- 사진 제목
    PIC_CONTENT VARCHAR2(300) ,-- 사진 내용 
    PIC_DATE DATE not null ,--날짜
    PIC_PATH VARCHAR2(300) --사진주소
);

ALTER TABLE PICTURE 
    ADD CONSTRAINT PK_PIC_NO
    PRIMARY KEY(
        PIC_NO
    );
    

ALTER TABLE PICTURE 
    ADD CONSTRAINT FK_PIC_BCA_NO
    FOREIGN KEY(
        BCA_NO 
    ) 
    REFERENCES BOARDCATE(
        BCA_NO
    );

    
CREATE INDEX PIC_TITLE 
    ON PICTURE(
        PIC_TITLE ASC
    );

CREATE TABLE MYWORK(
   ID VARCHAR2(20) NOT NULL, -- (세션)아이디
   WORK_START VARCHAR2(400) NOT NULL, -- 할일
   WORK_END NUMBER NOT NULL, -- 1:진행중 2:완료
   PLANDATE VARCHAR2(20) NOT NULL -- 할일 등록 날짜

);

commit;